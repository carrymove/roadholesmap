!function e(n,o,t){function r(a,d){if(!o[a]){if(!n[a]){var f="function"==typeof require&&require;if(!d&&f)return f(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[a]={exports:{}};n[a][0].call(u.exports,function(e){var o=n[a][1][e];return r(o?o:e)},u,u.exports,e,n,o,t)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r}({1:[function(e,n,o){var t;t={playlistId:"PLy_pe5XDDZ1L1zz_DiMYyahzjKdc1hf0D",key:"AIzaSyCFWImJNon0aKly3AyMPORALPd2YtyxZ5w",mapToken:"pk.eyJ1IjoidXBpc2ZyZWUiLCJhIjoiendQb1RXOCJ9.kWzWlTV5W5XyfNwCRktbbA",fastPlay:5},n.exports=t},{}],2:[function(e,n,o){window.onYouTubeIframeAPIReady=function(){var n;return n=e("./player.coffee")(function(){var o;return o=e("./map.coffee")(function(){return o.setLayoutProperty("country-label-lg","text-field","{name_ru}"),e("./loadList.coffee")(),setInterval(function(){return n.playNext()},5e3)})})}},{"./loadList.coffee":3,"./map.coffee":4,"./player.coffee":5}],3:[function(e,n,o){var t,r,i;e("./utils/array.coffee"),t=e("./config.coffee"),i=e("./player.coffee")(),window.videos=[],window.viewed=0,r=function(e){var n,o;return n="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId="+t.playlistId+"&key="+t.key,null!=e&&(n+="&pageToken="+e),o=new XMLHttpRequest,o.open("GET",n,!0),o.onload=function(){var e,n,o,a,d;for(d=JSON.parse(this.responseText),a=d.items,e=0,o=a.length;o>e;e++)n=a[e],window.videos.push({id:n.snippet.resourceId.videoId,coordinates:JSON.parse(n.snippet.description.split(/\n/)[0]),address:n.snippet.description.split(/\n/)[1]});return d.nextPageToken?(window.videos.length>=t.fastPlay&&0===window.viewed&&i._loaded&&(window.videos.shuffle(),i.playNext()),r(d.nextPageToken)):(window.videos.splice(0,window.viewed),window.videos.shuffle(),0===window.viewed?i.playNext():void 0)},o.send()},n.exports=r},{"./config.coffee":1,"./player.coffee":5,"./utils/array.coffee":6}],4:[function(e,n,o){var t,r;t=e("./config.coffee"),mapboxgl.accessToken=t.mapToken,r=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/dark-v8",center:[73.36967526977534,54.99210827927987],zoom:12,interactive:!1}),n.exports=function(e){return e?(window._maponload=setInterval(function(){return r.loaded()?(clearInterval(window._maponload),e()):void 0},250),r):r}},{"./config.coffee":1}],5:[function(e,n,o){var t,r;e("./utils/array.coffee"),t=e("./map.coffee")(),r={},r._loaded=!1,r.onReady=function(){return r.yt.setSize(window.innerWidth,window.innerHeight),r._loaded=!0},r.onStateChange=function(e){return e.data===YT.PlayerState.ENDED?r.playNext():void 0},r.onError=function(e){return r.playNext()},r.onPlaybackQualityChange=function(){},r.yt=new YT.Player("video",{playerVars:{rel:0,controls:0,showinfo:0,autoplay:1,disablekb:1,iv_load_policy:3},events:{onReady:r.onReady,onStateChange:r.onStateChange,onError:r.onError,onPlaybackQualityChange:r.onPlaybackQualityChange}}),window.onresize=function(){return r.yt.setSize(window.innerWidth,window.innerHeight)},r.loadById=function(e){return r.yt.loadVideoById(e)},r.play=function(){return r.yt.playVideo()},r.pause=function(){return r.yt.pauseVideo()},r.loadById=function(e){return r.yt.loadVideoById(e)},r.playNext=function(){var e,n;return window.viewed++,e=window.videos,n=window.viewed,null!=e[n]?(t.flyTo({center:e[n].coordinates,zoom:14}),console.log(e[n].address),r.loadById(e[n].id)):(e.shuffle(),n=0,t.flyTo({center:e[n].coordinates,zoom:14}),console.log(e[n].address),r.loadById(e[n].id))},r.getVolume=function(){return r.yt.getVolume()},r.setVolume=function(e){return r.yt.setVolume(e)},n.exports=function(e){return e?(r.yt.addEventListener("onReady",function(){return r.yt.setSize(window.innerWidth,window.innerHeight),r._loaded=!0,e()}),r):r}},{"./map.coffee":4,"./utils/array.coffee":6}],6:[function(e,n,o){Array.prototype.shuffle=function(){var e,n,o,t;for(e=this.length,o=[];e;)n=Math.floor(Math.random()*e),e-=1,t=this[e],this[e]=this[n],o.push(this[n]=t);return o}},{}]},{},[2]);